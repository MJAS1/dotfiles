set nocompatible
filetype plugin indent on

let mapleader=","


"------------------------------
" Setup vim-plug plugin manager
"------------------------------

call plug#begin('~/.vim/plugged')

Plug 'scrooloose/nerdtree'
Plug 'majutsushi/tagbar'
Plug 'bling/vim-airline'
Plug 'Lokaltog/vim-easymotion'
Plug 'indentpython.vim'
Plug 'gerw/vim-latex-suite'
Plug 'tpope/vim-commentary'

call plug#end()

" NerdTree
map <C-n> : NERDTreeToggle<CR> :set relativenumber<CR>

" Tagbar
nmap <F8> :TagbarToggle<CR>

" Airline
let g:airline#extensions#tabline#enabled = 1

" Vim-Latex
" IMPORTANT: grep will sometimes skip displaying the file name if you
" search in a singe file. This will confuse Latex-Suite. Set your grep
" program to always generate a file-name.
set grepprg=grep\ -nH\ $*

" OPTIONAL: Starting with Vim 7, the filetype of empty .tex files defaults to
" 'plaintex' instead of 'tex', which results in vim-latex not being loaded.
" " The following changes the default filetype back to 'tex':
let g:tex_flavor='latex'


" Autoclose braces
inoremap {      {}<Left>
inoremap {<CR>  {<CR>}<Esc>O
inoremap {{     {
inoremap {}     {}

" Autoclose parantheses
inoremap (      ()<Left>
inoremap (<CR>  (<CR>)<Esc>O
inoremap ((     (
inoremap ()     ()

" Autoclose brackets
inoremap [      []<Left>
inoremap [<CR>  [<CR>]<Esc>O
inoremap [[     [
inoremap []     []

" Buffers
nnoremap <A-l> :bn<CR>
nnoremap <A-h> :bp<CR>

" Windows
nmap <silent> <C-k> :wincmd k<CR>
nmap <silent> <C-j> :wincmd j<CR>
nmap <silent> <C-h> :wincmd h<CR>
nmap <silent> <C-l> :wincmd l<CR>

nmap <F10> :cprev <CR>
nmap <F12> :cnext <CR>

nnoremap <Tab> :bn <CR>
nnoremap <S-Tab> :bp <CR>

imap jj <Esc>

set tabstop=4
set softtabstop=4
set shiftwidth=4
set expandtab
set relativenumber

nnoremap <leader>r :set relativenumber!<CR> :set number!<CR>
nnoremap <leader>q :qa<CR> :set number!<CR>
nnoremap <silent> <leader><space> :noh <CR>

" Use ctrl-s to save
nmap <c-s> :w<CR>
imap <c-s> <Esc>:w<CR>a

set t_Co=256
set history=200

" Highlight current line
augroup CursorLine
	au!
	au VimEnter,WinEnter,BufWinEnter * setlocal cursorline
	au WinLeave * setlocal nocursorline
augroup END

:hi CursorLine   cterm=NONE ctermbg=darkred ctermfg=white guibg=darkred guifg=white
:hi CursorColumn cterm=NONE ctermbg=darkred ctermfg=white guibg=darkred guifg=white

" Highlight trailing spaces
:highlight ExtraWhitespace ctermbg=red guibg=red
:match ExtraWhitespace /\s\+$/

" Toggle pasting
set pastetoggle=<F2>

syntax on
